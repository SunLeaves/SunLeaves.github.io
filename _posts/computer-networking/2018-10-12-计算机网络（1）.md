---
layout:     post
title:      计算机网络（1）
subtitle:   
date:       2018-10-12
author:     xiezht
header-img: 
catalog: true
tags: 
    - 计算机网络
    - 笔记
---

* 参考书籍：《计算机网络 自顶向下方法》

## 1. 前引-基础概念

### 基础

* 时延：排队时延、传输时延、传播时延、处理时延、端到端时延

* 吞吐量：瞬时吞吐量、最大吞吐量

* 分组交换机：
  + 路由器：涉及物理层、链路层、网络层
  + 链路层交换机：涉及物理层、链路层

* 通过网络链路与交换机移动数据的方式：电路交换、分组交换
  + 电路交换：预留了端系统之间通信沿路径所需要的资源（缓存、链路传输速率），为连接维护连接状态
    - 频分复用：调频无线电台
    - 时分复用
  + 分组交换：不预留资源，按需分配（趋势）
    - 总体性能更优，利用率更高

### 协议栈

* 封装（encapsulation）：首部字段+有效载荷字段

应用层：发送应用层报文->运输层：收取报文，附加信息，如运输层首部信息、差错检测位信息... -> 网络层：附加网络层首部信息，如源和目的端系统地址 -> 链路层：附加链路层首部信息，创建链路层帧

* 报文（message）：应用层的信息分组。两个端系统之间的应用程序用以信息交换的分组（packet）。相关协议：HTTP、SMTP、FTP

* 报文段（segment）：运输层的信息分组。应用程序端口之间信息交换的分组。相关协议：TCP、UDP

* 数据报（datagram）：网络层的信息分组。主机与主机之间信息交换的分组。相关协议：IP协议、路由选择协议

* 帧（frame）：网络层通过源与目的地之间的一系列路由器路由数据报。路由节点之间。相关：以太网、WIFI、DOCSIS协议。

### 其他

* OSI模型：应用层、（表现层、会话层）、运输层、网络层、链路层、物理层

* 网络攻击：
  + DoS攻击（拒绝服务攻击，denial of service attack）：弱点攻击、带宽洪泛、连接洪泛
  + 分组嗅探
  + IP哄骗（spoofing）

## 2. 应用层

### 2.1 基础概念-应用程序与进程

* 进程通信：

进程是运行在端系统上的程序。

进程运行在相同的端系统上时，使用操作系统定义的进程间通信机制相互通信。

运行在不同的端系统上时，通过使用协议栈的应用层协议进行通信。

* 客户与服务器进程：

在会话开始时发起与其他进程的联系的一般被标识为Client，会话开始时等待联系的进程是Server

* 进程与网络之间的接口：**套接字**

套接字socket是同一台主机内应用层与运输层之间的接口。

进程通过socket接口向网络（一般是运输层）发送报文和从网络接收报文。

应用程序对运输层的控制仅限于：选择运输层协议、设置运输层的参数（最大缓存、最大报文段长度）

* 进程寻址：主机地址+接受进程的标识符（IP地址，端口号）

Web服务器用端口号80标识、邮件服务器进程（SMTP协议）使用35端口标识。


### 2.2 基础概念-网络应用与应用层协议

* 应用层协议有什么作用？

定义了不同端系统上的应用程序进程如何相互传递报文。具体一点，它定义了以下内容：
  + 交换的报文类型（请求报文、响应报文）
  + 各种报文类型的语法，如报文中的各个字段以及这些字段的描述。
  + 字段的语义
  + 进程何时以及如何发送报文，对报文进行相应的规则

* 常见的应用层协议：HTTP协议（Web应用）、SMTP（电子邮件应用）、FTP（文件传输）
  + 重要的网络应用：Web、文件传输、电子邮件、目录服务、P2P


### 2.3 Web & HTTP

HTTP定义了Web Client向Web Server请求Web页面的方式，以及Server向Clientc传送Web页面的方式。

TCP为HTTP提供可靠数据传输服务。

HTTP服务器并不保存关于客户的任何信息，是一个**无状态协议**。

**非持续连接**：每个请求/响应对是各自经一个单独的TCP连接发送。

**持续连接**：所有的请求/响应对都经相同的TCP连接发送。

* 非持续连接（non-persistent connection）

* 持续连接（persistent connection）


## 3. 运输层

### 3.1 基础概念-TCP服务与UDP服务

* TCP服务：
  + 面向连接的服务，包含三次握手建立连接过程。
  + 全双工：同时进行报文收发
  + 可靠数据传输，无差错、按顺序交付
  + 拥塞控制机制，在特定情况下抑制发送进程，尝试限制TCP连接，达到公平共享网络带宽

  + TCP安全问题：没有提供任何加密机制 -> SSL（secure sockets layer），
    - 解决方案：SSL

    > SSL不是与TCP、UDP相同层次上的第三种运输协议，而是实现于在应用层上的、对TCP的加强。SSL有自身的套接字。
    > 应用使用SSL的数据传递流程：进程：明文数据 -> SSL套接字：加密数据 -> TCP套接字：...... -> TCP套接字：得到加密数据 -> SSL套接字：解密数据 -> 进程：收取明文数据

* UDP服务：不可靠、无拥塞控制、不一定按序交付











